@page "/movies/create"
@inject NavigationManager navigationManager
@using ProyPelis.Client.Pages.Components

<FormMovie Movie="Movie" OnValidSubmit="Create" CategoriasNoSeleccionadas="CategoriasNoSeleccionadas"></FormMovie>
@code {
    private Movie Movie = new Movie();
    private List<CategoryMovie> CategoriasNoSeleccionadas = new List<CategoryMovie>();

    protected override void OnInitialized()
    {
        CategoriasNoSeleccionadas = new List<CategoryMovie>(){
            new CategoryMovie(){Id = 1, Category="Comedy"},
            new CategoryMovie(){Id = 2, Category="Scary"},
            new CategoryMovie(){Id = 3, Category="Action"},
            new CategoryMovie(){Id = 4, Category="Documentaries"},
            new CategoryMovie(){Id = 5, Category="Comedy"}
        };
    }
    void Create()
    {
        @* Con el navigationManager vamos a redireccionar al usuario a otras rutas dentro del sistema *@
        Console.WriteLine(navigationManager.Uri);
        navigationManager.NavigateTo("movie");
        Console.WriteLine($"Movie: {Movie.MovieName}");
        Console.WriteLine($"ReleaseDate: {Movie.ReleaseDate}");
        Console.WriteLine($"On Billboard: {Movie.OnBillboard}");
        Console.WriteLine($"Picture: {Movie.Image}");
        Console.WriteLine($"Synopsis: {Movie.Synopsis}");

    }
}